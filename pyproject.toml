[tool.black]
line-length = 79
skip-magic-trailing-comma = true
preview = true

[tool.isort]
profile = "black"
line_length = 79
add_imports = ["from __future__ import annotations"]

[tool.mypy]
exclude = "migrations/"
ignore_missing_imports = true
warn_unreachable = true
local_partial_types = true
enable_error_code = [
    "redundant-expr",
    "truthy-bool",
    "ignore-without-code",
    "unused-awaitable",
]
strict = true
show_error_codes = true
plugins = ["mypy_django_plugin.main", "mypy_drf_plugin.main"]

[tool.django-stubs]
django_settings_module = "config.settings.test"

[tool.djlint]
ignore = "H006,H030,H031"
indent = 2
blank_line_after_tag = "load,extends"
profile = "django"
max_line_length = 80
format_attribute_template_tags = true

[tool.pytest.ini_options]
DJANGO_SETTINGS_MODULE = "config.settings.test"
FAIL_INVALID_TEMPLATE_VARS = true
addopts = "--strict-markers --strict-config --cov --cov-branch"
xfail_strict = true

[tool.coverage.run]
plugins = ["django_coverage_plugin"]
